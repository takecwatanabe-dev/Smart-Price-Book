<!--
APP: Smart Price
FILE: index.html
VERSION: v19.9c-hf13-pwa2-snsimg1
DATE(JST): 2026-01-03 20:07 JST
TITLE: SNS画像（URL貼るだけ）— 商品ページURLから代表画像を自動抽出→共有サムネURL化（長いリンク対応）
CHANGES:
- searchImageWeb: URL入力時に「画像URL/商品ページURL」を受け取り、代表画像を自動抽出して共有サムネURL（wsrv）へ変換
- Google画像の長いURL（imgurl等）や商品ページ（og:image/twitter:image）からの抽出を追加
- 画像は data: をクラウドへ載せず、共有URL化で端末差を消し、SNS的に“積み上がる”方式へ
AUTHOR: Yui
BUILD_PARAM: ?b=2026-01-03_2007_snsimg1
DEBUG_PARAM: &debug=1
POLICY: 見た目は極力維持（内部だけ安定化）
-->

<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <link rel="manifest" href="manifest.json?b=2026-01-03_2007_snsimg1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="theme-color" content="#D50000">
  <title>Smart Price v19.9c-hf13-pwa2-snsimg1</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
  <style>
    body { font-family: sans-serif; background-color: #121212; color: #e0e0e0; padding-bottom: 90px; touch-action: manipulation; }
    .header { background: linear-gradient(135deg, #D50000, #9b0000); padding: 12px 15px; position: sticky; top: 0; z-index: 1000; box-shadow: 0 2px 10px rgba(0,0,0,0.5); }
    .v-badge { background: #ff5252; color: white; font-size: 0.7rem; padding: 2px 8px; border-radius: 10px; margin-left: 10px; font-weight: bold; }
    .store-area { background: #1e1e1e; padding: 10px; border-bottom: 1px solid #333; min-height: 55px; }
    .store-list { display: flex; overflow-x: auto; gap: 8px; padding: 5px 0; -webkit-overflow-scrolling: touch; }
    .store-tag { padding: 6px 14px; border: 1px solid #444; border-radius: 20px; white-space: nowrap; font-size: 0.85rem; background: #2c2c2c; color: #ccc; }
    .store-tag.active { background: #D50000; color: white; border-color: #D50000; }
    .store-tag.gps-btn { border: 1px solid #ff5252; color: #ff5252; }
    .store-tag.gps-btn.on { background: #ff5252; color: white; }
    .store-tag.add-store { border: 1px dashed #777; color: #ddd; background: #262626; }
    .store-tag.add-store:active { background: #333; }
    .gps-status { font-size: 0.6rem; margin-left: 4px; opacity: 0.9; }

    .card { background-color: #1e1e1e; border: 1px solid #333; margin-bottom: 10px; border-radius: 12px; overflow: hidden; }
